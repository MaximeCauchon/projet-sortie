{% extends 'base.html.twig' %}

{% block title %}Modifier une sortie.
{% endblock %}

{% block body %}
	<main class="container flex flex-col mx-auto">
		<h1 class=" text-center mt-12">
			Afficher une sortie
		</h1>

		<div class="mt-12 grid grid-cols-2 mx-auto space-x-20">
			<div class="space-y-4">
				<p>Nom de la sortie :
					{{ sortie.nom }}</p>
				<p>
					Organisée par :
					<a href="{{path('participant_details', {id : sortie.organisateur.id})}}">
						{{sortie.organisateur.pseudo}}</p>
				</p>
			</a>
			<p>Date et heure de la sortie :
				{{ sortie.dateHeureDebut | date("d/m/Y H:i", "Europe/Paris") }}</p>
			<p>Date limite d'inscription :
				{{ sortie.dateLimiteInscription | date("d/m/Y H:i", "Europe/Paris") }}</p>
			<p>Nombre de places :
				{{ sortie.nbInscriptionMax }}</p>
			<p>Durée :
				{% if sortie.duree | date("%h") != 0 %}
					{{ sortie.duree | date("%h") }}
					h 
				{% endif %}
				{% if sortie.duree | date("%I") != 0 %}
					{{ sortie.duree | date("%I") }}
					min
				{% endif %}</p>
			<p>Description et infos :
				{{ sortie.infosSortie }}</p>
			{% if sortie.motifAnnulation %}
				<p>Motif d'annulation :
					{{ sortie.motifAnnulation }}</p>
			{% endif %}

		</div>
		<div class="space-y-4">
			<p>Campus :
				{{ sortie.campus.nom }}</p>
			<p>Ville :
				{{ sortie.lieu.ville.nom }}
			</p>
			<p>Lieu :
				{{ sortie.lieu.nom }}</p>
			<p>Rue :
				{{ sortie.lieu.rue }}</p>
			<p>Code postal :
				{{ sortie.lieu.ville.codepostal }}</p>
			<p>Latitude :
				{{ sortie.lieu.latitude }}</p>
			<p>Longitude :
				{{ sortie.lieu.longitude }}</p>
		</div>
	</div>

	<div class="flex flex-col mx-auto w-1/3 m-12">
		<p>Liste des participants inscrits :</p>
		<table class="my-3 border-collapse border-2 border-slate-700">
			<thead class=" bg-slate-600 text-white">
				<tr>
					<th class="w-1/3 p-2 border-2 border-slate-700">Pseudo</th>
					<th class="w-2/3 p-2 border-2 border-slate-700">Nom</th>
				</tr>
			</thead>
			<tbody>
				{% for participant in sortie.participants %}
					<tr class="">

						<td class="p-1 border border-slate-400">
							<a href="{{ path('participant_details', {'id' : participant.id}) }}">
								{{ participant.pseudo }}
							</a>
						</td>
						<td class="p-1 border border-slate-400">{{ participant.prenom }}
							{{ participant.nom|upper }}</td>

					</tr>
				{% endfor %}
			</tbody>

		</table>
	</div>

</main>{% endblock %}
